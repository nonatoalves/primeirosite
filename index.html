<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>CÁLCULO DE SALÁRIO COM DESCONTOS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .campo {
            margin-bottom: 20px;
        }
        .campo input {
            width: 50px;
            text-align: center;
        }
        .botao {
            padding: 10px 20px;
            margin: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }
        .botao:hover {
            opacity: 0.8;
        }
        .resultado {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cálculo de Salário com Descontos</h1>
        <div class="campo">
            <label for="salarioBruto">Salário Bruto (R$): </label>
            <input type="number" id="salarioBruto" value="8383.60" onchange="calcularDescontos()" step="0.01">
        </div>
        <div class="campo">
            <label for="dependentes">Número de Dependentes: </label>
            <button class="botao" onclick="alterarDependentes(-1)">-</button>
            <input type="number" id="dependentes" value="5" min="0" onchange="calcularDescontos()">
            <button class="botao" onclick="alterarDependentes(1)">+</button>
        </div>
        <div id="resultado" class="resultado"></div>
    </div>

    <script>
        // Função para calcular os descontos com base no FUNAFIN e IRRF
        function calcularDescontos() {
            let salarioBruto = parseFloat(document.getElementById("salarioBruto").value);
            let dependentes = parseInt(document.getElementById("dependentes").value);

            const descontoPorDependente = 189.59;  // Valor por dependente
            const aliquotaFUNAFIN = 0.14; // Alíquota de 14% para FUNAFIN
            const faixasIRRF = [
                { limite: 2260.00, aliquota: 0, deducao: 0 },
                { limite: 2826.65, aliquota: 0.075, deducao: 169.44 },
                { limite: 3751.05, aliquota: 0.15, deducao: 381.44 },
                { limite: 4664.68, aliquota: 0.225, deducao: 662.77 },
                { limite: Infinity, aliquota: 0.275, deducao: 896.00 }
            ];

            // Cálculo do desconto do FUNAFIN (14% do salário bruto)
            let descontoFUNAFIN = salarioBruto * aliquotaFUNAFIN;

            // Cálculo do desconto por dependentes
            let descontoDependentes = dependentes * descontoPorDependente;

            // Base de cálculo do IRRF
            let baseCalculoIRRF = salarioBruto - descontoFUNAFIN - descontoDependentes;

            // Aplicando a tabela de IRRF
            let IRRF = 0;
            for (let faixa of faixasIRRF) {
                if (baseCalculoIRRF > faixa.limite) {
                    IRRF = (baseCalculoIRRF - faixa.limite) * faixa.aliquota - faixa.deducao;
                } else {
                    break;
                }
            }

            // Cálculo do salário líquido
            let salarioLiquido = salarioBruto - descontoFUNAFIN - descontoDependentes - IRRF;

            // Exibir resultados
            document.getElementById("resultado").innerHTML = `
                <h2>Resultado:</h2>
                <p><strong>Salário Bruto:</strong> R$ ${salarioBruto.toFixed(2)}</p>
                <p><strong>Desconto FUNAFIN:</strong> R$ ${descontoFUNAFIN.toFixed(2)}</p>
                <p><strong>Desconto por Dependentes:</strong> R$ ${descontoDependentes.toFixed(2)}</p>
                <p><strong>Base de Cálculo IRRF:</strong> R$ ${baseCalculoIRRF.toFixed(2)}</p>
                <p><strong>Desconto IRRF:</strong> R$ ${IRRF.toFixed(2)}</p>
                <p><strong>Salário Líquido:</strong> R$ ${salarioLiquido.toFixed(2)}</p>
            `;
        }

        // Função para alterar o número de dependentes
        function alterarDependentes(valor) {
            let dependentes = parseInt(document.getElementById("dependentes").value);
            dependentes += valor;
            if (dependentes >= 0) {
                document.getElementById("dependentes").value = dependentes;
                calcularDescontos();
            }
        }

        // Chama a função inicial para calcular o salário
        calcularDescontos();
    </script>
</body>
</html>
