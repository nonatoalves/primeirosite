<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparação Salarial - TRT e TJPE</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        header {
            background-color: #4a90e2;
            color: white;
            padding: 1rem 2rem;
            text-align: center;
        }
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 1rem;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            text-align: left;
        }
        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        .data-table th {
            background-color: #4a90e2;
            color: white;
        }
        canvas {
            margin: 1rem auto;
            display: block;
        }
        footer {
            background-color: #4a90e2;
            color: white;
            text-align: center;
            padding: 1rem 0;
            margin-top: 2rem;
        }
        .increment-btns {
            display: flex;
            align-items: center;
        }
        .increment-btns button {
            margin: 0 5px;
            padding: 5px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .value {
            font-size: 16px;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Comparação Salarial - TRT e TJPE</h1>
    </header>
    <div class="container">
        <h2>Analista Judiciário - TRT</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Gaj</th>
                    <th>Salário Total</th>
                    <th>Alimentação</th>
                    <th>Qualificação</th>
                    <th>Saúde</th>
                    <th>Transporte</th>
                    <th>Total com Benefícios</th>
                    <th>Incremento de Nível</th>
                </tr>
            </thead>
            <tbody id="trt-table-body">
                <!-- Tabela TRT será preenchida dinamicamente -->
            </tbody>
        </table>

        <h2>Técnico Judiciário - TJPE</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Nível</th>
                    <th>Salário Base</th>
                    <th>Transporte</th>
                    <th>Alimentação</th>
                    <th>Saúde</th>
                    <th>Salário Bruto</th>
                    <th>Incremento de Nível</th>
                </tr>
            </thead>
            <tbody id="tjpe-table-body">
                <!-- Tabela TJPE será preenchida dinamicamente -->
            </tbody>
        </table>

        <h2>Evolução Salarial - Gráfico Comparativo</h2>
        <canvas id="salaryChart" width="800" height="400"></canvas>
    </div>

    <footer>
        <p>&copy; 2024 Comparação Salarial - TRT e TJPE</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script>
        // Dados iniciais de TRT (Analista Judiciário)
        let trtData = [
            {nivel: 0, gaj: 8664.05, salarioTotal: 14852.66, alimentacao: 1393.10, qualificacao: 464.15, saude: 1100.00, transporte: 498.37},
            {nivel: 1, gaj: 8923.98, salarioTotal: 15298.24, alimentacao: 1393.10, qualificacao: 478.07, saude: 1100.00, transporte: 498.37},
            {nivel: 2, gaj: 9191.69, salarioTotal: 15757.18, alimentacao: 1393.10, qualificacao: 492.41, saude: 1100.00, transporte: 498.37},
            // Adicione mais níveis conforme necessário
        ];

        // Dados iniciais de TJPE (Técnico Judiciário)
        let tjpeData = [
            {nivel: 0, salarioBase: 5563.97, transporte: 492.00, alimentacao: 1197.60, saude: 556.40},
            {nivel: 1, salarioBase: 5703.06, transporte: 492.00, alimentacao: 1197.60, saude: 570.31},
            {nivel: 2, salarioBase: 5854.18, transporte: 492.00, alimentacao: 1197.60, saude: 585.42},
            // Adicione mais níveis conforme necessário
        ];

        // Função para preencher a Tabela Salarial - TRT (Analista Judiciário)
        function fillTrtTable() {
            const trtTableBody = document.getElementById('trt-table-body');
            trtTableBody.innerHTML = '';  // Limpar tabela antes de preencher novamente

            const row = trtData[0]; // Exibe sempre o nível 0 de TRT
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>R$ ${row.gaj.toFixed(2)}</td>
                <td>R$ ${row.salarioTotal.toFixed(2)}</td>
                <td>R$ ${row.alimentacao.toFixed(2)}</td>
                <td>R$ ${row.qualificacao.toFixed(2)}</td>
                <td>R$ ${row.saude.toFixed(2)}</td>
                <td>R$ ${row.transporte.toFixed(2)}</td>
                <td>R$ ${(row.salarioTotal + row.alimentacao + row.qualificacao + row.saude + row.transporte).toFixed(2)}</td>
                <td class="increment-btns">
                    <button onclick="incrementTrtLevel()">+</button>
                    <button onclick="decrementTrtLevel()">-</button>
                    <span class="value">${row.nivel}</span>
                </td>
            `;
            trtTableBody.appendChild(tr);
        }

        // Função para preencher a Tabela Salarial - TJPE (Técnico Judiciário)
        function fillTjpeTable() {
            const tjpeTableBody = document.getElementById('tjpe-table-body');
            tjpeTableBody.innerHTML = '';  // Limpar tabela antes de preencher novamente

            const row = tjpeData[0]; // Exibe sempre o nível 0 de TJPE
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${row.nivel}</td>
                <td>R$ ${row.salarioBase.toFixed(2)}</td>
                <td>R$ ${row.transporte.toFixed(2)}</td>
                <td>R$ ${row.alimentacao.toFixed(2)}</td>
                <td>R$ ${row.saude.toFixed(2)}</td>
                <td>R$ ${(row.salarioBase + row.transporte + row.alimentacao + row.saude).toFixed(2)}</td>
                <td class="increment-btns">
                    <button onclick="incrementTjpeLevel()">+</button>
                    <button onclick="decrementTjpeLevel()">-</button>
                    <span class="value">${row.nivel}</span>
                </td>
            `;
            tjpeTableBody.appendChild(tr);
        }

        // Função para incrementar o nível de TRT
        function incrementTrtLevel() {
            let currentLevel = trtData[0].nivel;
            if (currentLevel < trtData.length - 1) {
                trtData[0].nivel++;
                fillTrtTable();
                updateChart();
            }
        }

        // Função para decrementar o nível de TRT
        function decrementTrtLevel() {
            let currentLevel = trtData[0].nivel;
            if (currentLevel > 0) {
                trtData[0].nivel--;
                fillTrtTable();
                updateChart();
            }
        }

        // Função para incrementar o nível de TJPE
        function incrementTjpeLevel() {
            let currentLevel = tjpeData[0].nivel;
            if (currentLevel < tjpeData.length - 1) {
                tjpeData[0].nivel++;
                fillTjpeTable();
                updateChart();
            }
        }

        // Função para decrementar o nível de TJPE
        function decrementTjpeLevel() {
            let currentLevel = tjpeData[0].nivel;
            if (currentLevel > 0) {
                tjpeData[0].nivel--;
                fillTjpeTable();
                updateChart();
            }
        }

        // Função para atualizar o gráfico
        function updateChart() {
            const ctx = document.getElementById('salaryChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Nível 0', 'Nível 1', 'Nível 2'], // Apenas três níveis
                    datasets: [
                        {
                            label: 'TRT - Salário com Benefícios',
                            data: trtData.map(data => data.salarioTotal + data.alimentacao + data.qualificacao + data.saude + data.transporte),
                            borderColor: 'rgba(75, 192, 192, 1)',
                            backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        },
                        {
                            label: 'TJPE - Salário Bruto',
                            data: tjpeData.map(data => data.salarioBase + data.transporte + data.alimentacao + data.saude),
                            borderColor: 'rgba(153, 102, 255, 1)',
                            backgroundColor: 'rgba(153, 102, 255, 0.1)',
                        },
                    ],
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                        },
                    },
                },
            });
        }

        // Preencher as tabelas e gráfico ao carregar a página
        fillTrtTable();
        fillTjpeTable();
        updateChart();
    </script>
</body>
</html>
